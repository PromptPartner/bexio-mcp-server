---
phase: 06-distribution
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/package.json
  - manifest.json
  - src/README.md
  - src/LICENSE
  - CHANGELOG.md
autonomous: true

must_haves:
  truths:
    - "Package name is @promptpartner/bexio-mcp-server"
    - "Manifest version is 0.3 with privacy_policies and tool annotations"
    - "README documents all three installation methods (MCPB, npm, source)"
    - "CHANGELOG follows Keep A Changelog format"
  artifacts:
    - path: "src/package.json"
      provides: "npm package configuration with PromptPartner scope"
      contains: "@promptpartner/bexio-mcp-server"
    - path: "manifest.json"
      provides: "MCPB manifest v0.3 for MCP Registry"
      contains: "privacy_policies"
    - path: "src/README.md"
      provides: "User-facing installation documentation"
      min_lines: 80
    - path: "CHANGELOG.md"
      provides: "Release history in Keep A Changelog format"
      contains: "## [2.0.0]"
  key_links:
    - from: "src/package.json"
      to: "manifest.json"
      via: "version sync"
      pattern: "2\\.0\\.0"
    - from: "src/README.md"
      to: "src/package.json"
      via: "package name reference"
      pattern: "@promptpartner/bexio-mcp-server"
---

<objective>
Update all package configuration files to PromptPartner identity and prepare for distribution channels.

Purpose: Package configuration must reflect the correct organization scope (@promptpartner), author details (Lukas Hertig), and repository URLs (github.com/promptpartner/bexio-mcp-server) before publishing. Manifest must be upgraded to v0.3 for MCP Registry acceptance.

Output: Updated package.json, manifest.json (v0.3), comprehensive README.md, LICENSE with correct author, and CHANGELOG.md ready for release.
</objective>

<execution_context>
@C:\Users\calvi\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\calvi\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-distribution/06-CONTEXT.md
@.planning/phases/06-distribution/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update package.json with PromptPartner identity</name>
  <files>src/package.json</files>
  <action>
Update src/package.json with the following changes:

1. Change name from "@bexio/mcp-server" to "@promptpartner/bexio-mcp-server"

2. Update author field:
```json
"author": {
  "name": "Lukas Hertig",
  "email": "lukas@promptpartner.ai"
}
```

3. Update repository URLs:
```json
"repository": {
  "type": "git",
  "url": "https://github.com/promptpartner/bexio-mcp-server.git"
},
"homepage": "https://github.com/promptpartner/bexio-mcp-server#readme",
"bugs": {
  "url": "https://github.com/promptpartner/bexio-mcp-server/issues"
}
```

4. Add "model-context-protocol" to keywords if not present

5. Ensure publishConfig.access is "public"

Keep all other fields unchanged (version 2.0.0, dependencies, scripts, etc.).
  </action>
  <verify>
Read src/package.json and verify:
- name equals "@promptpartner/bexio-mcp-server"
- author.name equals "Lukas Hertig"
- repository.url contains "promptpartner/bexio-mcp-server"
- publishConfig.access equals "public"
  </verify>
  <done>Package.json has PromptPartner scope and author, correct repository URLs, and public access configured.</done>
</task>

<task type="auto">
  <name>Task 2: Upgrade manifest.json to v0.3 for MCP Registry</name>
  <files>manifest.json</files>
  <action>
Update manifest.json in the project root with the following changes:

1. Change manifest_version from "0.2" to "0.3"

2. Update author:
```json
"author": {
  "name": "Lukas Hertig",
  "email": "lukas@promptpartner.ai"
}
```

3. Update homepage:
```json
"homepage": "https://github.com/promptpartner/bexio-mcp-server"
```

4. Add privacy_policies array (REQUIRED for v0.3 and MCP Registry):
```json
"privacy_policies": [
  "https://www.bexio.com/en-CH/privacy-policy"
]
```

5. Add annotations to all tools in the tools array. For the existing tools:
- list_invoices: { "annotations": { "readOnlyHint": true } }
- preview_invoice: { "annotations": { "readOnlyHint": true } }
- show_contact_card: { "annotations": { "readOnlyHint": true } }
- show_dashboard: { "annotations": { "readOnlyHint": true } }
- list_contacts: { "annotations": { "readOnlyHint": true } }
- create_invoice: { "annotations": { "destructiveHint": true } }

Keep version as "2.0.0", keep server config, user_config, and compatibility unchanged.
  </action>
  <verify>
Run: cd "D:\AI\Bexio MCP v2" && npx mcpb validate manifest.json

Also read manifest.json and verify:
- manifest_version equals "0.3"
- privacy_policies array exists with at least one URL
- All tools have annotations with either readOnlyHint or destructiveHint
  </verify>
  <done>Manifest is v0.3 compliant with privacy_policies and tool annotations, passing mcpb validation.</done>
</task>

<task type="auto">
  <name>Task 3: Create comprehensive README and CHANGELOG</name>
  <files>src/README.md, CHANGELOG.md</files>
  <action>
1. Replace src/README.md with comprehensive documentation:

```markdown
# @promptpartner/bexio-mcp-server

Complete Swiss accounting integration for [Bexio](https://www.bexio.com/) with [Claude Desktop](https://claude.com/desktop). Manage invoices, contacts, projects, time tracking, and 200+ more tools through natural conversation.

## Quick Start

### Option 1: MCPB Bundle (Recommended)

1. Download `bexio-mcp-server.mcpb` from [Releases](https://github.com/promptpartner/bexio-mcp-server/releases)
2. Double-click to install in Claude Desktop
3. Enter your Bexio API token when prompted

### Option 2: npm

```bash
npx @promptpartner/bexio-mcp-server
```

Add to Claude Desktop config:

**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`
**Windows:** `%APPDATA%\Claude\claude_desktop_config.json`

```json
{
  "mcpServers": {
    "bexio": {
      "command": "npx",
      "args": ["@promptpartner/bexio-mcp-server"],
      "env": {
        "BEXIO_API_TOKEN": "your-token-here"
      }
    }
  }
}
```

### Option 3: From Source

```bash
git clone https://github.com/promptpartner/bexio-mcp-server
cd bexio-mcp-server/src
npm install
npm run build
```

Add to Claude Desktop config:

```json
{
  "mcpServers": {
    "bexio": {
      "command": "node",
      "args": ["/path/to/bexio-mcp-server/src/dist/index.js"],
      "env": {
        "BEXIO_API_TOKEN": "your-token-here"
      }
    }
  }
}
```

## Getting Your Bexio API Token

1. Log in to [Bexio](https://office.bexio.com/)
2. Go to **Settings** > **API Tokens**
3. Click **Create Token**
4. Copy the token and use it in your configuration

## Features

This MCP server provides **221 tools** across all Bexio domains:

### Contacts & CRM
- Create, update, search contacts
- Contact groups, sectors, salutations, titles
- Contact relations management

### Invoices & Sales
- Full invoice lifecycle (create, issue, send, cancel)
- Quotes with accept/decline workflows
- Orders with delivery management
- Incoming payments tracking
- Interactive invoice preview

### Banking & Payments
- Swiss QR-bill payment support (QR-IBAN)
- Standard IBAN payments (ISO 20022)
- Currency management (CHF, EUR)
- Bank account management

### Projects & Time Tracking
- Project management with types and statuses
- Milestones and work packages
- Timesheet entries with duration tracking
- Business activities and communication types

### Accounting
- Chart of accounts
- Manual journal entries
- Business years and VAT periods
- Account groups

### Purchase & Expenses
- Bills (creditor invoices)
- Expenses and purchase orders
- Outgoing payments

### Files & Documents
- Document upload/download
- File management

### Payroll (requires Bexio Payroll module)
- Employee management
- Absence tracking
- Payroll documents

## HTTP Mode

For integration with n8n or other automation tools:

```bash
npx @promptpartner/bexio-mcp-server --mode http --port 8000
```

## Environment Variables

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `BEXIO_API_TOKEN` | Yes | - | Your Bexio API token |
| `BEXIO_BASE_URL` | No | `https://api.bexio.com/2.0` | API endpoint URL |

## Troubleshooting

### "Invalid API token" error
- Verify your token in Bexio Settings > API Tokens
- Ensure the token has not expired
- Check that the token has the required permissions

### "Connection refused" error
- Check your internet connection
- Verify BEXIO_BASE_URL is correct (default: https://api.bexio.com/2.0)

### Payroll tools return "module not available"
- Payroll tools require the Bexio Payroll module subscription
- Contact Bexio support to enable the module

### Claude Desktop doesn't see the server
- Restart Claude Desktop after configuration changes
- Verify the config file path is correct for your OS
- Check Claude Desktop logs for error messages

## License

MIT - See [LICENSE](LICENSE) for details.

## Links

- [Bexio API Documentation](https://docs.bexio.com/)
- [MCP Protocol Specification](https://modelcontextprotocol.io/)
- [Report Issues](https://github.com/promptpartner/bexio-mcp-server/issues)
```

2. Create CHANGELOG.md in project root:

```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [2.0.0] - 2026-02-02

### Added
- Complete Bexio API coverage with 221 tools across all domains
- Interactive UI previews for invoices, contacts, and dashboard
- Swiss QR-bill and IBAN payment support (ISO 20022 compliant)
- Project management with milestones, work packages, and time tracking
- Accounting tools: chart of accounts, manual entries, VAT periods
- Purchase cycle: bills, expenses, purchase orders, outgoing payments
- File management with upload/download capabilities
- Payroll tools with automatic module detection
- MCPB bundle for one-click Claude Desktop installation
- Dual transport: stdio (Claude Desktop) and HTTP (n8n/automation)

### Changed
- Complete rewrite with MCP SDK 1.25.2
- Modular architecture with domain-organized code
- Zod 3.25.76 for improved validation

### Technical
- 221 tools organized into 10 domain modules
- TypeScript with strict mode
- Vitest for testing
- Vite for UI bundling

[unreleased]: https://github.com/promptpartner/bexio-mcp-server/compare/v2.0.0...HEAD
[2.0.0]: https://github.com/promptpartner/bexio-mcp-server/releases/tag/v2.0.0
```
  </action>
  <verify>
Read src/README.md and verify:
- Contains "Option 1: MCPB Bundle"
- Contains "Option 2: npm"
- Contains "Option 3: From Source"
- Contains "@promptpartner/bexio-mcp-server"
- Contains troubleshooting section

Read CHANGELOG.md and verify:
- Contains "## [2.0.0]"
- Contains "Keep a Changelog" reference
- Contains link to releases
  </verify>
  <done>README documents all three installation methods with troubleshooting, CHANGELOG follows Keep A Changelog format with 2.0.0 entry.</done>
</task>

</tasks>

<verification>
1. src/package.json has @promptpartner scope and correct author/repository
2. manifest.json is v0.3 with privacy_policies and tool annotations
3. mcpb validate passes without errors
4. README covers MCPB, npm, and source installation paths
5. CHANGELOG follows Keep A Changelog format
6. All files reference github.com/promptpartner/bexio-mcp-server
</verification>

<success_criteria>
- Package identity updated to @promptpartner/bexio-mcp-server
- Manifest v0.3 compliant and MCP Registry ready
- Comprehensive user-facing documentation in place
- Ready for 06-02 publishing tasks
</success_criteria>

<output>
After completion, create `.planning/phases/06-distribution/06-01-SUMMARY.md`
</output>
